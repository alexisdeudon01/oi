[pytest]
# Configuration pytest pour le projet IDS

# Chemins de test
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Options
addopts = 
    -v
    --strict-markers
    --tb=short
    --cov=src/ids
    --cov-report=html
    --cov-report=term-missing:skip-covered

# Markers personnalisés
markers =
    suricata: Tests impliquant Suricata et la génération d'alertes
    performance: Tests de performance et de charge
    aws: Tests de connectivité AWS/OpenSearch
    docker: Tests impliquant Docker et les conteneurs
    integration: Tests d'intégration système complets
    unit: Tests unitaires isolés
    slow: Tests avec durée d'exécution longue (>5s)
    async: Tests asynchrones
    requires_network: Tests nécessitant une connexion réseau
    deploy: Tests de déploiement vers Raspberry Pi

# Configuration asyncio
asyncio_mode = auto

# Timeouts
timeout = 300
timeout_method = thread

# Logging
log_cli = false
log_cli_level = INFO
log_file = tests/pytest.log
log_file_level = DEBUG
